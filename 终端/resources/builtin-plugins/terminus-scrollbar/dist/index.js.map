{"version":3,"sources":["webpack-terminus-scrollbar:///webpack/universalModuleDefinition","webpack-terminus-scrollbar:///webpack/bootstrap 9a71db26def5ba4e3a19","webpack-terminus-scrollbar:///external \"@angular/core\"","webpack-terminus-scrollbar:///./src/scrollbar/scrollbar.ts","webpack-terminus-scrollbar:///./src/scrollbar/index.ts","webpack-terminus-scrollbar:///./src/services/scrollbar.ts","webpack-terminus-scrollbar:///./src/index.ts","webpack-terminus-scrollbar:///./src/scrollbar/scrollbar.scss","webpack-terminus-scrollbar:///./~/css-loader/lib/css-base.js","webpack:///./src/scrollbar/scrollbar.scss?5210","webpack-terminus-scrollbar:///external \"terminus-core\"","webpack-terminus-scrollbar:///external \"terminus-terminal\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"terminus-core\"), require(\"terminus-terminal\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"terminus-core\", \"terminus-terminal\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@angular/core\"), require(\"terminus-core\"), require(\"terminus-terminal\")) : factory(root[\"@angular/core\"], root[\"terminus-core\"], root[\"terminus-terminal\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9a71db26def5ba4e3a19","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","\r\nimport { Subscription } from 'rxjs';\r\nimport { TerminalTabComponent } from 'terminus-terminal';\r\n\r\nconst scrollDebounce = 50;\r\nconst renderDebounce = 16;\r\n\r\nexport class TerminusHtermScrollbar extends HTMLElement {\r\n\tprivate shadow: ShadowRoot;\r\n\tprivate connected: boolean = false;\r\n\tprivate terminal: TerminalTabComponent;\r\n\tprivate terminalSubscriptions: Array<Subscription> = [ ];\r\n\tprivate frame: HTMLIFrameElement;\r\n\tprivate screen: HTMLElement;\r\n\tprivate track: HTMLDivElement;\r\n\tprivate handle: HTMLDivElement;\r\n\tprivate lastScrollTop: number;\r\n\tprivate lastScrollHeight: number;\r\n\tprivate moveHandler: EventListener;\r\n\tprivate nextScrollY: number = null;\r\n\tprivate scrollIsDebounced: boolean = false;\r\n\tprivate renderIsDebounced: boolean = false;\r\n\tprivate renderIsDesired: boolean = false;\r\n\tprivate desiredHandlePosition: number = null;\r\n\tprivate desiredHandlePercent: number = null;\r\n\tprivate alternateScreenActive: boolean = null;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.shadow = this.attachShadow({ mode: 'open' });\r\n\r\n\t\t// Bind the css to the shadow root\r\n\t\tthis.shadow.innerHTML = `<style>${require('./scrollbar.scss')}</style>`;\r\n\r\n\t\t// Create the actual scrollbar DOM\r\n\t\tthis.track = this.shadow.appendChild(document.createElement('div'));\r\n\t\tthis.handle = this.track.appendChild(document.createElement('div'));\r\n\r\n\t\tthis.track.className = 'track';\r\n\t\tthis.handle.className = 'handle';\r\n\r\n\t\t// Hide the scrollbar until it is attached to something and can actually render properly\r\n\t\tthis.track.style.display = 'none';\r\n\r\n\t\t// Bind the mouse listeners to the scrollbar\r\n\t\tthis.track.addEventListener('click', this.onTrackClick);\r\n\t\tthis.handle.addEventListener('mousedown', this.onHandleMouseDown);\r\n\t}\r\n\r\n\tconnectedCallback() : void {\r\n\t\tthis.connected = true;\r\n\t}\r\n\r\n\tdisconnectedCallback() : void {\r\n\t\tthis.connected = false;\r\n\t}\r\n\r\n\tattachToTerminal(terminal: TerminalTabComponent) : void {\r\n\t\t// The terminal tab component that we will be creating a scrollbar for\r\n\t\tthis.terminal = terminal;\r\n\r\n\t\t// The iframe that HTerm is hosted in\r\n\t\tthis.frame = terminal.content.nativeElement.querySelector('iframe');\r\n\r\n\t\t// The x-screen element inside the frame that actually renders the terminal\r\n\t\tthis.screen = this.frame.contentDocument.querySelector('x-screen');\r\n\r\n\t\t// Set the last known scroll info; used to detect changes that require a redraw\r\n\t\tthis.lastScrollTop = this.screen.scrollTop;\r\n\t\tthis.lastScrollHeight = this.screen.scrollHeight;\r\n\r\n\t\t// Listen for scroll events to update the scrollbar when someone scrolls with mousewheel\r\n\t\tthis.screen.addEventListener('scroll', this.handleInternalScroll);\r\n\r\n\t\t// Start listening to terminal events so we know when something changes that requires a redraw\r\n\t\tthis.terminalSubscriptions.push(\r\n\t\t\tthis.terminal.resize$.subscribe(this.onTerminalUpdate),\r\n\t\t\tthis.terminal.input$.subscribe(this.onTerminalUpdate),\r\n\t\t\tthis.terminal.output$.subscribe(this.onTerminalUpdate),\r\n\t\t\tthis.terminal.alternateScreenActive$.subscribe(this.onAlternateScreenChange)\r\n\t\t);\r\n\t}\r\n\r\n\tdetachFromTerminal() : void {\r\n\t\t// Stop listening to scroll events\r\n\t\tthis.screen.removeEventListener('scroll', this.handleInternalScroll);\r\n\r\n\t\t// Stop listening to terminal events\r\n\t\tthis.terminalSubscriptions.forEach((subscription) => {\r\n\t\t\tsubscription.unsubscribe();\r\n\t\t});\r\n\r\n\t\tthis.terminalSubscriptions.length = 0;\r\n\r\n\t\t// Remove the references to the terminal\r\n\t\tthis.terminal = null;\r\n\t\tthis.frame = null;\r\n\t\tthis.screen = null;\r\n\t\tthis.lastScrollTop = null;\r\n\t\tthis.lastScrollHeight = null;\r\n\r\n\t\t// Hide the scrollbar as it is no longer connected to anything\r\n\t\tthis.track.style.display = 'none';\r\n\t}\r\n\r\n\r\n\r\n\t// Handlers connected to HTerm\r\n\r\n\tonTerminalUpdate = () : void => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.lastScrollTop !== this.screen.scrollTop || this.lastScrollHeight !== this.screen.scrollHeight) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t\tthis.handleInternalScroll();\r\n\t\t\t\t}, 150);\r\n\t\t\t}\r\n\r\n\t\t\tthis.lastScrollTop = this.screen.scrollTop;\r\n\t\t\tthis.lastScrollHeight = this.screen.scrollHeight;\r\n\t\t}, 50);\r\n\t}\r\n\r\n\tonAlternateScreenChange = (isActive : boolean) : void => {\r\n\t\tif (isActive) {\r\n\t\t\tthis.alternateScreenActive = true;\r\n\t\t\tthis.fadeOut();\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tif (this.alternateScreenActive != null) {\r\n\t\t\t\tthis.onTerminalUpdate();\r\n\t\t\t}\r\n\r\n\t\t\tthis.alternateScreenActive = false;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t// Once an update has \"happened\" inside the class, actually redraws the scrollbar UI and applies the\r\n\t// change in position to the terminal if requested\r\n\r\n\trender() : void {\r\n\t\t// If we're not actually connected to anything, don't bother trying to draw\r\n\t\tif (! this.connected || ! this.frame) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If the terminal is small enough to not need a scrollbar, just hide\r\n\t\tif (! this.terminalNeedsScrollbar()) {\r\n\t\t\tthis.fadeOut();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If the render is currently debounced, just make it known that we would like to render, and\r\n\t\t// wait for the debounce to clear\r\n\t\tif (this.renderIsDebounced) {\r\n\t\t\tthis.renderIsDesired = true;\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Debounce to ensure we don't render too often\r\n\t\tthis.renderIsDebounced = true;\r\n\t\tsetTimeout(this.handleDebouncedRender, renderDebounce);\r\n\r\n\t\t// If we've made it this far, make sure the element is visible\r\n\t\tthis.fadeIn();\r\n\r\n\t\tconst outputScreenCount = Math.max(this.getTerminalScrollableAmount() / this.screen.offsetHeight, 1);\r\n\t\tconst newHeight = this.track.offsetHeight / outputScreenCount;\r\n\r\n\t\t// Update the handle height (this changes based on the amount of scrollable buffer)\r\n\t\tthis.handle.style.height = newHeight + 'px';\r\n\r\n\t\t// If a given position is desired, move there\r\n\t\tif (this.desiredHandlePosition != null) {\r\n\t\t\tthis.moveHandleToPosition(this.desiredHandlePosition);\r\n\t\t}\r\n\r\n\t\t// If a given percent is desired, move there. Otherwise, update to match the state of the terminal\r\n\t\telse {\r\n\t\t\tconst scrollPercent = this.desiredHandlePercent == null\r\n\t\t\t\t? this.getCurrentTerminalScrollPercent()\r\n\t\t\t\t: this.desiredHandlePercent;\r\n\r\n\t\t\tthis.moveHandleToPercent(scrollPercent);\r\n\t\t}\r\n\t\t\r\n\t\t// Clear out the state about where to move\r\n\t\tthis.desiredHandlePosition = null;\r\n\t\tthis.desiredHandlePercent = null;\r\n\t}\r\n\r\n\thandleDebouncedRender = () : void => {\r\n\t\tthis.renderIsDebounced = false;\r\n\r\n\t\tif (this.renderIsDesired) {\r\n\t\t\tthis.renderIsDesired = false;\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t}\r\n\r\n\tmoveHandleToPercent(percent : number) : void {\r\n\t\tconst availableSpace = this.getAvailableScrollSpace();\r\n\t\tconst newScrollPosition = availableSpace * percent;\r\n\r\n\t\tthis.moveHandleToPosition(newScrollPosition);\r\n\t}\r\n\r\n\tmoveHandleToPosition(position : number) : void {\r\n\t\tthis.handle.style.top = Math.max(0, Math.min(this.getAvailableScrollSpace(), position)) + 'px';\r\n\t}\r\n\r\n\r\n\r\n\t// Functions for reading data from the scrollbar UI\r\n\r\n\tgetAvailableScrollSpace() : number {\r\n\t\treturn this.track.offsetHeight - this.handle.offsetHeight;\r\n\t}\r\n\r\n\tdetermineNewScrollPercentFromHandle() : number {\r\n\t\treturn this.handle.offsetTop / this.getAvailableScrollSpace();\r\n\t}\r\n\r\n\r\n\r\n\t// Functions for actually scrolling the live terminal\r\n\r\n\tscrollTerminal(newY) : void {\r\n\t\tif (this.scrollIsDebounced) {\r\n\t\t\tthis.nextScrollY = newY;\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.screen.scrollTop = newY;\r\n\t\tthis.lastScrollTop = this.screen.scrollTop;\r\n\t\tthis.scrollIsDebounced = true;\r\n\r\n\t\tsetTimeout(this.handleDebouncedScroll, scrollDebounce);\r\n\t}\r\n\r\n\thandleDebouncedScroll = () : void => {\r\n\t\tthis.scrollIsDebounced = false;\r\n\r\n\t\tif (this.nextScrollY != null) {\r\n\t\t\tthis.scrollTerminal(this.nextScrollY);\r\n\t\t\tthis.nextScrollY = null;\r\n\t\t}\r\n\t}\r\n\r\n\tscrollTerminalToPercent(percent : number) : void {\r\n\t\tconst newY = this.getTerminalScrollableAmount() * percent;\r\n\r\n\t\tthis.scrollTerminal(newY);\r\n\t}\r\n\r\n\r\n\r\n\t// Functions for accessing information about the current state of the terminal\r\n\r\n\tgetCurrentTerminalScrollPercent() : number {\r\n\t\treturn this.screen.scrollTop / this.getTerminalScrollableAmount();\r\n\t}\r\n\r\n\tgetTerminalScrollableAmount() : number {\r\n\t\treturn this.screen.scrollHeight - this.screen.offsetHeight;\r\n\t}\r\n\r\n\tterminalNeedsScrollbar() : boolean {\r\n\t\treturn this.screen.scrollHeight > this.screen.offsetHeight && ! this.alternateScreenActive;\r\n\t}\r\n\r\n\r\n\r\n\t// Functions for showing/hiding the scrollbar element\r\n\r\n\tfadeIn() {\r\n\t\tconst { display, opacity } = this.track.style;\r\n\r\n\t\tif (display !== 'block' || parseFloat(opacity) !== 1) {\r\n\t\t\tthis.track.style.display = 'block';\r\n\r\n\t\t\tsetTimeout(() => this.track.style.opacity = '1', 0);\r\n\t\t} \r\n\t}\r\n\r\n\tfadeOut() {\r\n\t\tconst { display, opacity } = this.track.style;\r\n\r\n\t\tif (display !== 'none' || parseFloat(opacity) !== 0) {\r\n\t\t\tthis.track.style.opacity = '0';\r\n\r\n\t\t\tsetTimeout(() => this.track.style.display = 'none', 1000);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t// User input event handlers for actually causing scrolling to happen\r\n\r\n\tonTrackClick = (click : MouseEvent) : void => {\r\n\t\tclick.preventDefault();\r\n\t\tclick.stopPropagation();\r\n\r\n\t\t// Determine where to move the handle based on where the user click\r\n\t\tconst clickPosition = click.pageY - this.track.getBoundingClientRect().top;\r\n\t\tconst newHandlePosition = clickPosition - (this.handle.offsetHeight / 2);\r\n\r\n\t\t// Move the handle\r\n\t\tthis.moveHandleToPosition(newHandlePosition);\r\n\r\n\t\t// Determine the new scroll percent based on where the handle moved to\r\n\t\tconst newPercent = this.determineNewScrollPercentFromHandle();\r\n\r\n\t\t// Scroll the terminal to match\r\n\t\tthis.scrollTerminalToPercent(newPercent);\r\n\t}\r\n\r\n\tonHandleMouseDown = (mouseDown : MouseEvent) : void => {\r\n\t\t// Don't allow this event to continue, to avoid also triggering the track onclick\r\n\t\tmouseDown.preventDefault();\r\n\t\tmouseDown.stopPropagation();\r\n\r\n\t\t// Add a class to the scrollbar so it can be styled while dragging\r\n\t\tthis.classList.add('dragging');\r\n\r\n\t\t// Bind the needed event listeners to track dragging the handle\r\n\t\tthis.moveHandler = this.onHandleMouseMove(mouseDown.clientY) as EventListener;\r\n\t\tdocument.addEventListener('mousemove', this.moveHandler);\r\n\t\tdocument.addEventListener('mouseup', this.onMouseUp);\r\n\t}\r\n\r\n\tonHandleMouseMove = (startingMouseY : number) : Function => {\r\n\t\tconst startingHandleY = this.handle.offsetTop;\r\n\r\n\t\treturn (mouseMove : MouseEvent) : void => {\r\n\t\t\tmouseMove.preventDefault();\r\n\t\t\tmouseMove.stopPropagation();\r\n\r\n\t\t\tconst mouseYDelta = mouseMove.clientY - startingMouseY;\r\n\r\n\t\t\tthis.desiredHandlePosition = Math.max(startingHandleY + mouseYDelta, 0);\r\n\r\n\t\t\t// Update the scrollbar UI\r\n\t\t\tthis.render();\r\n\r\n\t\t\t// Actually scroll the terminal to match the scrollbar state\r\n\t\t\tthis.scrollTerminalToPercent(this.determineNewScrollPercentFromHandle());\r\n\t\t};\r\n\t}\r\n\r\n\tonMouseUp = (mouseUp : MouseEvent) : void => {\r\n\t\tmouseUp.preventDefault();\r\n\t\tmouseUp.stopPropagation();\r\n\r\n\t\t// Remove the drag active class\r\n\t\tthis.classList.remove('dragging');\r\n\r\n\t\t// Remove the event listeners for dragging\r\n\t\tdocument.removeEventListener('mousemove', this.moveHandler);\r\n\t\tthis.moveHandler = null;\r\n\r\n\t\tdocument.removeEventListener('mouseup', this.onMouseUp);\r\n\t}\r\n\r\n\thandleInternalScroll = () : void => {\r\n\t\tconst newPercent = this.getCurrentTerminalScrollPercent();\r\n\r\n\t\tthis.moveHandleToPercent(newPercent);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scrollbar/scrollbar.ts","\r\nimport { TerminusHtermScrollbar } from './scrollbar';\r\nexport { TerminusHtermScrollbar } from './scrollbar';\r\n\r\ncustomElements.define('terminus-hterm-scrollbar', TerminusHtermScrollbar);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scrollbar/index.ts","\r\nimport { Injectable } from '@angular/core';\r\nimport { AppService, Logger, LogService } from 'terminus-core';\r\nimport { TerminalTabComponent } from 'terminus-terminal';\r\nimport { TerminusHtermScrollbar } from '../scrollbar';\r\n\r\n@Injectable()\r\nexport class ScrollbarService {\r\n\tprivate logger: Logger;\r\n\tprivate knownTabs: Map<TerminalTabComponent, Tab>;\r\n\r\n\tconstructor(\r\n\t\tprivate app: AppService,\r\n        log: LogService,\r\n\t) {\r\n\t\tthis.logger = log.create('scrollbar');\r\n\t}\r\n\r\n\tinit() : void {\r\n\t\tthis.logger.debug('scrollbar plugin starting up');\r\n\r\n\t\tthis.knownTabs = new Map<TerminalTabComponent, Tab>();\r\n\r\n\t\tthis.onTabsChange();\r\n\r\n\t\tthis.app.tabsChanged$.subscribe(() => {\r\n\t\t\tsetTimeout(() => this.onTabsChange(), 1000);\r\n\t\t});\r\n\t}\r\n\r\n\tonTabsChange() : void {\r\n\t\tthis.app.tabs.forEach((tab) => {\r\n\t\t\tif (! this.knownTabs.has(tab as TerminalTabComponent)) {\r\n\t\t\t\tthis.logger.debug(`New terminal tab discovered id=${tab.id}`);\r\n\r\n\t\t\t\tif (tab instanceof TerminalTabComponent) {\r\n\t\t\t\t\tthis.initScrollbar(tab);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst newTabSet = new Set(this.app.tabs);\r\n\r\n\t\tthis.knownTabs.forEach((tab) => {\r\n\t\t\tif (! newTabSet.has(tab.tab)) {\r\n\t\t\t\tthis.knownTabs.delete(tab.tab);\r\n\t\t\t\ttab.scrollbar.detachFromTerminal();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tinitScrollbar(tab) {\r\n\t\tconst scrollbar = document.createElement('terminus-hterm-scrollbar') as TerminusHtermScrollbar;\r\n\r\n\t\ttab.content.nativeElement.appendChild(scrollbar);\r\n\t\tscrollbar.attachToTerminal(tab);\r\n\r\n\t\tthis.knownTabs.set(tab, new Tab(tab, scrollbar));\r\n\t}\r\n}\r\n\r\nclass Tab {\r\n\tconstructor(\r\n\t\tpublic tab: TerminalTabComponent,\r\n\t\tpublic scrollbar: TerminusHtermScrollbar\r\n\t) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/scrollbar.ts","\r\nimport './scrollbar';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { ScrollbarService } from './services/scrollbar';\r\n\r\n@NgModule({\r\n\tproviders: [\r\n\t\tScrollbarService,\r\n\t]\r\n})\r\nexport default class ScrollbarModule {\r\n\tconstructor(private service: ScrollbarService) {\r\n\t\tthis.service.init();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host,\\n:host * {\\n  border: 0;\\n  box-sizing: border-box;\\n  font: inherit;\\n  font-size: 100%;\\n  margin: 0;\\n  outline: 0;\\n  padding: 0;\\n  user-select: none;\\n  vertical-align: baseline; }\\n\\n:host {\\n  --scrollbar-min-handle-size: 50px;\\n  --scrollbar-width: 8px;\\n  --scrollbar-track-color: #2d373d;\\n  --scrollbar-handle-color: #7c8c9c;\\n  --scrollbar-border-color: #000;\\n  display: block;\\n  z-index: 200;\\n  position: absolute;\\n  top: 0;\\n  right: calc(0px - var(--scrollbar-width));\\n  bottom: 0; }\\n\\n:host(.dragging) {\\n  left: 0; }\\n\\n.track {\\n  border-radius: var(--scrollbar-width);\\n  overflow: hidden;\\n  position: absolute;\\n  top: 10px;\\n  right: var(--scrollbar-width);\\n  bottom: 10px;\\n  width: var(--scrollbar-width);\\n  background-color: var(--scrollbar-track-color);\\n  transition: opacity linear 1s; }\\n\\n.handle {\\n  border-radius: var(--scrollbar-width);\\n  min-height: var(--scrollbar-min-handle-size);\\n  width: var(--scrollbar-width);\\n  background-color: var(--scrollbar-handle-color);\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  border: 1px transparent solid;\\n  border-color: var(--scrollbar-border-color);\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader/lib/loader.js!./src/scrollbar/scrollbar.scss\n// module id = 5\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 6\n// module chunks = 0","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./scrollbar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scrollbar/scrollbar.scss\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"terminus-core\"\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"terminus-terminal\"\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}